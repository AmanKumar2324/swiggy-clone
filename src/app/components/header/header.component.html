<div class="header">
  <div class="logo">
    <img src="assets/logo.jpg" alt="Logo" />
  </div>
  <div class="nav-buttons">
    <div class="dropdown">
      <button class="dropdown-btn">
        <span class="dropdown-text">{{ selectedAddress }}</span>
        <span class="dropdown-icon"><i class="fas fa-chevron-down"></i></span>
      </button>
      <div class="dropdown-content">
        <a href="#" (click)="selectAddress('Sarai, Bhagalpur', $event)">Sarai, Bhagalpur</a>
        <a href="#" (click)="selectAddress('Sri Rameshwaram, Bhagalpur', $event)">Sri Rameshwaram, Bhagalpur</a>
        <a href="#" (click)="selectAddress('Mayur Vihar, Delhi', $event)">Mayur Vihar, Delhi</a>
      </div>
    </div>
    
    
    <button class="nav-btn">
      <img src="assets/corporate_logo.jpg" alt="Swiggy Corporate Icon" class="nav-icon" />
      Swiggy Corporate
    </button>
    <div [routerLink]="['/search']">
      <button class="nav-btn" >
        <img src="assets/search_logo.jpg" alt="Search Icon" class="nav-icon" />
        Search
      </button>
    </div>
    <button class="nav-btn">
      <img src="assets/offer_logo.jpg" alt="Offers Icon" class="nav-icon" />
      Offers
    </button>
    <button class="nav-btn">
      <img src="assets/help_logo.jpg" alt="Help Icon" class="nav-icon" />
      Help
    </button>
    <button class="nav-btn">
      <img src="assets/signin_logo.jpg" alt="Sign In Icon" class="nav-icon" />
      Sign In
    </button>

    <!-- Cart Button -->
    <div class="cart-container" (mouseenter)="toggleCartDropdown(true)" (mouseleave)="toggleCartDropdown(false)">
      <button class="nav-btn">
        <img src="assets/cart_logo.jpg" alt="Cart Icon" class="nav-icon" />
        Cart
      </button>
      <div class="cart-dropdown" *ngIf="isCartDropdownVisible">
        <!-- Cart Dropdown Content -->
        <div *ngIf="cartItems.length > 0">
          <div class="cart-tile">
            <img src="https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_132,h_132,c_fill/RX_THUMBNAIL/IMAGES/VENDOR/2024/11/7/dedb4867-4b11-4e0e-a4b7-269c21fd4839_265572.jpg" alt="Restaurant Image" class="cart-restaurant-img" />
            <div class="cart-restaurant-info">
              <h3 class="cart-restaurant-name">{{ restaurantName }}</h3>
              <p class="cart-restaurant-address">{{ restaurantAddress }}</p>
            </div>
          </div>

          <div *ngFor="let item of cartItems" class="cart-tile">
            <span class="cart-item-name">{{ item.name }}</span>
            <span class="cart-item-price">₹{{ item.price }} x {{ item.quantity }}</span>
          </div>

          <div class="cart-tile subtotal">
            <div>
              <h4>Subtotal</h4>
              <p>{{ subtotalText }}</p>
            </div>
            <div class="cart-total">
              <h4>₹{{ totalAmount }}</h4>
            </div>
          </div>
        </div>

        <!-- If cart is empty -->
        <div *ngIf="cartItems.length === 0">
          <p>Your cart is empty!</p>
        </div>

        <!-- Checkout Button -->
        <button class="checkout-btn" (click)="checkout()">Checkout</button>
      </div>
    </div>
  </div>
</div>
